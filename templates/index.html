{% extends 'base.html' %}
{% block content %}

<!-- HERO -->
<header class="hero" role="banner" aria-label="Site hero">
  <div class="container hero-inner">
    <div class="row align-items-center">
      <h1 class="headline" style="color:black !important;">
  Building the Future with Strength and Precision
</h1>

<p class="lead mt-3" style="color:black !important;">
  Aditi Constructions delivers reliable, high-quality construction solutions — residential, commercial and renovation projects executed with safety and craftsmanship.
</p>


        <div class="d-flex gap-3 flex-column flex-sm-row mt-4">
          <!-- Primary CTA -->
          <a href="#contact"
             id="get-quote"
             class="btn btn-hero"
             role="button"
             aria-label="Get a quote from Aditi Constructions">
            Get a Quote
          </a>

          <!-- Secondary CTA -->
          <a href="#projects"
             class="btn btn-hero"
             role="button"
             aria-label="View our projects">
            View Projects
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- ABOUT -->
<section id="about" class="py-5 blueprint-bg">
  <div class="container">
    <div class="row mb-4" data-aos="fade-up">
      <div class="col-lg-8">
        <h2>About Aditi Constructions</h2>
        <p class="text-muted">
          With a decade of experience in building safe, sustainable and beautiful structures, Aditi Constructions combines modern techniques with time-tested values. Our projects reflect attention to detail, commitment to deadlines and client-first communication.
        </p>
      </div>
    </div>
    <div class="row g-3" data-aos="fade-up" data-aos-delay="100">
      <div class="col-md-4">
        <div class="card card-mission p-3 h-100">
          <h5>Mission</h5>
          <p class="mb-0 small text-muted">
            Deliver exceptional construction solutions that exceed expectations while prioritizing safety and sustainability.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card p-3 h-100">
          <h5>Vision</h5>
          <p class="mb-0 small text-muted">
            To be the region's most trusted builder, known for innovation, integrity, and lasting relationships.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card p-3 h-100">
          <h5>Values</h5>
          <p class="mb-0 small text-muted">
            Safety · Quality · Transparency · Sustainability · Client Focus
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PROJECTS -->
<section id="projects" class="py-5 bg-light">
  <div class="container">
    <div class="row mb-4" data-aos="fade-up">
      <div class="col-lg-8">
        <h2 class="fw-bold text-primary">Our Current Projects</h2>
        <p class="text-muted">
          Explore our latest residential, commercial, and infrastructure projects currently under development.
        </p>
      </div>
    </div>
    <div class="row g-4" data-aos="fade-up" data-aos-delay="100">
      {% for project in projects %}
      <div class="col-md-6 col-lg-4">
        <div class="project-item shadow-sm">
          {% if project.image_filename %}
            <img src="{{ url_for('uploaded_file', filename=project.image_filename) }}" alt="{{ project.title }}">
          {% endif %}
          <div class="project-overlay">
            <div>
              <h5 class="fw-semibold">{{ project.title }}</h5>
              <p class="small">{{ project.description }}</p>
            </div>
          </div>
        </div>
      </div>
      {% else %}
      <p class="text-muted">No current projects available at the moment.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section id="testimonials">
  <div class="overlay py-5">
    <div class="container">
      <div class="row mb-4" data-aos="fade-up">
        <div class="col-lg-8">
          <h2>What Our Clients Say</h2>
          <p class="text-light opacity-75">Real feedback from our happy clients about our service and work quality.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="80">
          <div id="testiCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              {% for t in testimonials %}
              <div class="carousel-item {% if loop.first %}active{% endif %}">
                <div class="p-4 rounded">
                  <p class="mb-1">“{{ t.content }}”</p>
                  <small>— {{ t.customer_name }}</small>
                </div>
              </div>
              {% else %}
              <div class="carousel-item active">
                <div class="p-4 rounded">
                  <p>No testimonials yet. Be the first to share your experience!</p>
                </div>
              </div>
              {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#testiCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#testiCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact" class="py-5">
  <div class="container">
    <div class="row g-4 align-items-center">
      <div class="col-lg-6" data-aos="fade-up">
        <h2>Contact Us</h2>
        <p class="text-muted">
          Start your next project with Aditi Constructions. Fill the form and we'll get back to you within 48 hours.
        </p>

        <form id="contactForm"
      class="mt-3"
      method="post"
      action="{{ url_for('book_consultation') }}">
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" class="form-control" id="name" name="name" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Email</label>
    <input type="email" class="form-control" id="email" name="email" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Phone (optional)</label>
    <input type="text" class="form-control" id="phone" name="phone">
  </div>

  <div class="mb-3">
    <label class="form-label">Message</label>
    <textarea class="form-control" id="message" name="message" rows="4" required></textarea>
  </div>

  <div class="d-flex gap-2">
    <button type="submit" class="btn btn-primary">
      Book Consultation
    </button>
    <a class="btn btn-outline-primary" href="#projects">View Projects</a>
  </div>
</form>
</div>


      <div class="col-lg-6" data-aos="fade-up" data-aos-delay="80">
          <div class="map-wrap shadow-sm rounded">
            <!-- Google Maps embed (replace src with your place) -->
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3891.851510054933!2d77.82290377454292!3d12.723108420278644!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae71b5d231f391%3A0xd73bd6efa743f213!2sADITI%20CONSTRUCTIONS!5e0!3m2!1sen!2sin!4v1761137200809!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.0869999999996!2d-122.419415!3d37.774929!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzfCsDQ2JzI5LjAiTiAxMjLCsDI1JzA5LjAiVw!5e0!3m2!1sen!2sus!4v1600000000000!5m2!1sen!2sus" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe> -->
          </div>
        </div>
</section>

{% endblock %}

{% block scripts %}
<script>
// Offers popup (only once)
fetch('/api/active-offers')
  .then(res => res.json())
  .then(data => {
    if (!data || data.length === 0) return;
    if (localStorage.getItem('seen_offers')) return;

    const body = document.getElementById('offersBody');
    body.innerHTML = '';
    data.forEach(o => {
      body.innerHTML += `<div class="mb-3"><h5>${o.title}</h5><p>${o.details}</p><hr></div>`;
    });

    const modal = new bootstrap.Modal(document.getElementById('offersModal'));
    modal.show();
    localStorage.setItem('seen_offers', '1');
  });
</script>
{% endblock %}
